{"version":3,"sources":["Components/Calculator/CalculatedStints/calculatedStints.module.css","Components/FormSetup/Compounds/Compound.module.css","Components/FormSetup/RaceData/raceData.module.css","Components/Calculator/CalculatedStrategies/calculatedStrategies.module.css","Components/FormSetup/FormSetup.module.css","Components/Layout/Layout.module.css","Models/CalculatedStint.js","Models/RaceStrategy.js","Components/Calculator/CalculatedStints/calculatedStints.js","Components/Calculator/CalculatedStrategies/calculatedStrategies.js","Components/Calculator/Calculator.js","Models/TyreType.js","Components/FormSetup/Compounds/Compound.js","Components/FormSetup/RaceData/raceData.js","Components/FormSetup/FormSetup.js","Components/Layout/Layout.js","App.js","index.js"],"names":["module","exports","CalculatedStint","tyreName","boxlap","weigth","fuel","compound","stintLenght","this","TyreName","BoxLap","Weight","Fuel","Compound","StintLength","RaceStrategy","Stints","WeightFactor","strategyWeight","totalWeight","forEach","stint","weight","calculatedStints","props","highlightColor","push","Styles","row","parseInt","minLaps","warning","safe","className","CalculatedStints","Details","join","calculatedStrategies","renderStints","strategy","map","Date","now","CalculatedStrategy","stintrow","Calculator","definedCompounds","raceStats","state","raceStrategies","usedCompounds","currentStrategy","prevProps","calculateRaceStrategies","length","calculateStrategyStints","setState","currentLap","raceLaps","remainingLaps","remainingStints","Math","ceil","fuelLaps","optimalStintLaps","toFixed","console","log","findOptimalCompound","tyreType","name","speedFactor","getStintLaps","updateCompoundUsage","candidates","compoundMinLaps","element","canCompoundBeUsed","sort","a","b","some","compoundId","id","used","usedCompound","find","el","slice","findIndex","available","renderCalculatedStints","Component","TyreType","tyreNames","tyreTypes","setCompound","maxLaps","isSet","initializeTyreTypes","returnTyres","i","getTyreOptions","tyre","value","setMaxLapsHandler","e","preventDefault","currentTyre","target","setMinLapsHandler","setTyreTypeHandler","setAvailableCompoundsHandler","styles","onChange","event","formRow","type","placeholder","onClick","disabled","RaceData","ev","FormSetup","fuelLapsHandler","currentStats","raceLapsHandler","addCompoundHandler","currCompounds","existingCompound","elementIndex","indexOf","splice","createCompoundHandler","renderCompounds","style","CompoundRow","calculateClick","Layout","calculateClickHandler","raceData","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4f686ce9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"CalculatedStints\":\"calculatedStints_CalculatedStints__2pRRF\",\"Compound\":\"calculatedStints_Compound__3uBrb\",\"Details\":\"calculatedStints_Details__3TSge\",\"row\":\"calculatedStints_row__rfLct\",\"warning\":\"calculatedStints_warning__HaADc\",\"safe\":\"calculatedStints_safe__94Jst\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Compound\":\"Compound_Compound___92da\",\"formRow\":\"Compound_formRow__yDRrC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RaceData\":\"raceData_RaceData__2LpJn\",\"formRow\":\"raceData_formRow__1kpYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CalculatedStrategy\":\"calculatedStrategies_CalculatedStrategy__37J7R\",\"stintrow\":\"calculatedStrategies_stintrow__1zeTd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CompoundRow\":\"FormSetup_CompoundRow__1OeAi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__9siPd\"};","class CalculatedStint{\n    constructor(tyreName,boxlap,weigth,fuel,compound,stintLenght)\n    {\n        this.TyreName = tyreName;\n        this.BoxLap = boxlap;\n        this.Weight = weigth;\n        this.Fuel = fuel;\n        this.Compound = compound;\n        this.StintLength = stintLenght\n    }\n}\n\nexport default CalculatedStint;","class RaceStrategy{\n\n    Stints = [];\n    WeightFactor = 1;\n    \n    strategyWeight = () => \n    {\n\n        let totalWeight = 0;\n        this.Stints.forEach((stint) => \n        {\n            totalWeight += stint.weight;\n        })\n\n        return totalWeight * this.WeightFactor;\n    }\n}\n\nexport default RaceStrategy;","import React from 'react';\nimport Styles from './calculatedStints.module.css';\n\nconst calculatedStints = (props) => {\n\n    const highlightColor = [];\n\n    highlightColor.push(Styles.row);\n    \n    if (parseInt(props.stint.Compound.minLaps - props.stint.StintLength) === 0)\n    {\n        highlightColor.push(Styles.warning);\n    }\n    else\n    {\n        highlightColor.push(Styles.safe);\n    }\n\n    return(\n        <div className={Styles.CalculatedStints}>\n            <div className={Styles.Compound}>{props.stint.TyreName}</div>\n            <div className={Styles.Details}>\n                <div className={Styles.row}>\n                    <p>Box Lap:</p> \n                    <span>{props.stint.BoxLap}</span>\n                </div>\n                <div className={Styles.row}>\n                    <p>Fuel: </p>\n                    <span>{props.stint.Fuel}</span>\n                </div>\n                <div className={highlightColor.join(' ')}>\n                    <p>Diff. Tyre Laps: </p>\n                    <span>{props.stint.Compound.minLaps - props.stint.StintLength}</span>\n                </div>\n                <div className={Styles.row}>\n                    <p>Stint Laps:</p>\n                    <span>{props.stint.StintLength}</span>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default calculatedStints;","import React from 'react';\nimport CalculatedStints from '../CalculatedStints/calculatedStints';\nimport Styles from './calculatedStrategies.module.css';\n\nconst calculatedStrategies = (props) => \n{\n    const renderStints = props.strategy.Stints.map((stint) => \n        {\n            return <CalculatedStints key={Date.now()}\n                stint = {stint}\n                />\n        });\n    \n\n    return (\n        <div className={Styles.CalculatedStrategy} >\n            <h2>Calculated Strategy: </h2>\n            <div className={Styles.stintrow}>\n                {renderStints}\n            </div>\n        </div>\n    );\n}\n\nexport default calculatedStrategies;","import React,{Component} from 'react';\nimport CalculatedStint from '../../Models/CalculatedStint';\nimport RaceStrategy from '../../Models/RaceStrategy';\nimport CalculatedStrategies from './CalculatedStrategies/calculatedStrategies';\n\n\nclass Calculator extends Component \n{\n    definedCompounds = this.props.definedCompounds;\n    raceStats = parseInt(this.props.raceStats);\n\n    state = {\n        raceStrategies: []\n    }\n\n    usedCompounds = [];\n    currentStrategy = null;\n\n    componentDidUpdate(prevProps)\n    {\n        if (this.props.definedCompounds !== prevProps.definedCompounds)\n        {\n            this.definedCompounds = this.props.definedCompounds;\n            this.raceStats = this.props.raceStats;\n            this.calculateRaceStrategies();\n        }\n    }\n\n    calculateRaceStrategies() \n    {\n        if (this.definedCompounds.length > 0)\n        {\n            //while(this.compoundsAvailable())\n            //{\n                let strategy = this.calculateStrategyStints(new RaceStrategy());\n                let calculatedStrategies = this.state.raceStrategies;\n                calculatedStrategies.push(strategy);\n                this.setState({raceStrategies:calculatedStrategies});\n            //}\n        }\n    }\n\n    calculateStrategyStints(strategy) \n    {\n        \n        let currentLap = 0;\n\n        while (currentLap < this.raceStats.raceLaps)\n        {\n            let remainingLaps = (parseInt(this.raceStats.raceLaps) - currentLap);\n            let remainingStints = Math.ceil((remainingLaps) / this.raceStats.fuelLaps);\n            let optimalStintLaps = (remainingLaps / remainingStints).toFixed(2);\n            console.log('remainingLaps: ' + remainingLaps);\n            console.log('remainingStints: ' + remainingStints);\n            console.log('optimalStintLaps: ' + optimalStintLaps);\n\n            let compound = this.findOptimalCompound(optimalStintLaps,this.raceStats.fuelLaps);\n            if (compound){\n\n                console.log('compound determined: ' + compound.tyreType.name);\n                strategy.Stints.push(\n                    new CalculatedStint(compound.tyreType.name,\n                            currentLap,\n                            compound.speedFactor,\n                            10,\n                            compound,\n                            this.getStintLaps(currentLap,compound)\n                            )\n                );\n\n                currentLap = currentLap + (compound.minLaps > this.raceStats.fuelLaps?this.raceStats.fuelLaps:compound.minLaps);\n                this.updateCompoundUsage(compound);\n                console.log('used compounds');\n                console.log(this.usedCompounds);\n            }\n            else{\n                //No compounds found\n                currentLap = this.raceStats.raceLaps;\n            }\n        }\n\n        return strategy;\n    }\n\n    getStintLaps(currentLap,compound)\n    {\n        if ((this.raceStats.raceLaps - currentLap) > compound.minLaps)\n        {\n            return (compound.minLaps > this.raceStats.fuelLaps?this.raceStats.fuelLaps:compound.minLaps);\n        }\n\n        return (this.raceStats.raceLaps - currentLap);\n    }\n\n    findOptimalCompound(optimalStintLaps,fuelLaps) \n    {\n        //Find optimal compound:\n            /*\n                Rules are: \n                    - Available Compound MinLaps >= FuelLaps || optimalStintLaps check if optimalStintLaps > Fuel Laps\n                    - For the given candidates, the one with smallest speedfactor.\n                    - If no candidates the compound with smallest speedfactor. \n            */\n\n        let candidates = [];\n        let compoundMinLaps = (optimalStintLaps > fuelLaps)? fuelLaps:optimalStintLaps;\n        console.log('compoundMinLaps:' + compoundMinLaps);\n\n        this.definedCompounds.forEach(element => {\n            if (this.canCompoundBeUsed(element))\n            {\n                if(element.minLaps >= compoundMinLaps)\n                {\n                    candidates.push(element);\n                }\n            }\n        });\n\n        if (candidates.length === 0)\n        {\n            this.definedCompounds.forEach(element => {\n                if (this.canCompoundBeUsed(element))\n                {\n                    candidates.push(element);\n                }\n            }); \n\n        }\n        return candidates.sort((a,b) => a.tyreType.speedFactor - b.tyreType.speedFactor)[0];\n        \n    }\n\n    compoundsAvailable()\n    {\n        return this.definedCompounds.some((compound) => this.canCompoundBeUsed(compound));\n    }\n\n    updateCompoundUsage(compound)\n    {\n        if (this.usedCompounds.length === 0)\n        {\n            this.usedCompounds.push({\n                compoundId: compound.id,\n                used:1\n            });\n        }\n        else\n        {\n            let usedCompound = this.usedCompounds.find((el) => parseInt(el.compoundId) === parseInt(compound.id));\n            if (usedCompound)\n            {\n                usedCompound.used+=1;\n                \n                this.usedCompounds.slice(this.usedCompounds.findIndex((el)=> parseInt(el.compoundId) === parseInt(compound.id)),1,usedCompound);\n            }\n            else{\n\n                this.usedCompounds.push({\n                    compoundId: compound.id,\n                    used:1\n                });\n            }\n        }\n    }\n\n    canCompoundBeUsed(compound)\n    {\n        if (this.usedCompounds.length === 0)\n        {\n            return true;\n        }\n        else\n        {\n            let element = this.usedCompounds.find((el) => parseInt(el.compoundId) === parseInt(compound.id));\n\n            if (!element)\n            {\n                return true;\n            }\n            else\n            {\n                return element.used < compound.available;\n            }\n        }\n    }\n\n    renderCalculatedStints()\n    {\n        if (this.state.raceStrategies.length > 0)\n        {\n            return this.state.raceStrategies.map((strategy) => {\n                return <CalculatedStrategies key={Date.now} strategy={strategy} />\n            })\n        }\n        else{\n            return <p>provide data</p>;\n        }\n    }\n\n\n    render () {\n        return (this.renderCalculatedStints());\n    }\n}\n\nexport default Calculator;","class TyreType{\n    constructor(name,speedFactor)\n    {\n        this.name=name;\n        this.speedFactor = speedFactor;\n    }\n}\n\nexport default TyreType;","import React,{Component} from 'react';\nimport TyreType from '../../../Models/TyreType';\nimport styles from './Compound.module.css';\n\nclass Compound extends Component {\n    \n    tyreNames = ['Ultra-Soft','Super-Soft','Soft','Medium','Hard','Inter','Full-Wet'];\n\n    state = {\n        tyreTypes:[],\n        setCompound:{\n            id : this.props.id,\n            tyreType: \"\",\n            maxLaps: 0,\n            minLaps:0,\n            available:0\n        },\n        isSet:false\n    }\n\n    constructor(props)\n    {\n        super(props);\n        this.state.tyreTypes  =this.initializeTyreTypes();\n    }\n\n\n\n    initializeTyreTypes = () => \n    {\n        let returnTyres = [];\n        for(let i=0;i<this.tyreNames.length;i++)\n        {\n            returnTyres.push(\n                new TyreType(this.tyreNames[i],i)\n            );\n        }\n        return returnTyres;\n    }\n\n    getTyreOptions = () => \n    {\n        return this.state.tyreTypes.map(tyre => \n            {\n                return <option key={tyre.name} value={tyre.name}>{tyre.name}</option>\n            });\n    }\n\n    setMaxLapsHandler = (e) => \n    {\n        e.preventDefault();\n        let currentTyre = this.state.setCompound;\n        currentTyre.maxLaps = parseInt(e.target.value);\n        this.setState({setCompound: currentTyre});\n        this.setState({isSet:true});\n    }\n\n    setMinLapsHandler = (e) =>{\n        e.preventDefault();\n        let currentTyre = this.state.setCompound;\n        currentTyre.minLaps = parseInt(e.target.value);\n        this.setState({setCompound: currentTyre});\n        this.setState({isSet:true});\n    }\n\n    setTyreTypeHandler = (e) => {\n        e.preventDefault();\n        let currentTyre = this.state.setCompound;\n        currentTyre.tyreType = this.state.tyreTypes.find((el) => {return el.name === e.target.value});\n        this.setState({setCompound: currentTyre});\n        this.setState({isSet:true});\n    }\n\n    setAvailableCompoundsHandler = (e) => \n    {\n        e.preventDefault();\n        let currentTyre = this.state.setCompound;\n        currentTyre.available = parseInt(e.target.value);\n        this.setState({setCompound: currentTyre});\n        this.setState({isSet:true});\n    }\n\n    render () {\n        return (\n            <div className={styles.Compound}>\n                \n                <select name=\"compounds\" onChange={(event) => this.setTyreTypeHandler(event)}>\n                    {this.getTyreOptions()}\n                </select>\n                \n                <div className={styles.formRow}>\n                    <label>Max Laps:</label>\n                    <input type=\"text\" placeholder=\"MaxLaps\" onChange={(event) => this.setMaxLapsHandler(event)} />\n                </div>\n                <div className={styles.formRow}>\n                    <label>Min Laps:</label>\n                    <input type=\"text\" placeholder=\"MinLaps\" onChange={(event) => this.setMinLapsHandler(event)} />\n                </div>\n                <div className={styles.formRow}>\n                    <label>Available:</label>\n                    <input type=\"text\" placeholder=\"Available\" onChange={(event) => this.setAvailableCompoundsHandler(event)} />\n                </div>\n                {\n                    (this.state.isSet) ?\n                        <button onClick={() => {\n                            this.setState({ isSet: false })\n                            this.props.setCompound(this.state.setCompound);\n                        }}\n                        >Set</button>\n                        :\n                        <button disabled>Set</button>\n\n                }\n                <button>Remove</button>\n            </div>\n\n        );\n    }\n\n}\n\nexport default Compound;","import React from 'react';\nimport styles from './raceData.module.css';\n\nconst RaceData = (props) => \n(\n    <div className={styles.RaceData}>\n        <div className={styles.formRow}>\n            <label>Max Fuel Laps:</label>\n            <input type=\"text\" placeholder=\"Max Fuel Laps\" onChange={(ev) => props.fuelLaps(ev)}/>\n        </div>\n        <div className={styles.formRow}>\n            <label>Race Laps:</label>\n            <input type=\"text\" placeholder=\"Race Laps\" onChange={(ev) => props.raceLaps(ev)}/>\n        </div>\n    </div>\n);\n\nexport default RaceData;","import React,{Component} from 'react';\nimport Compound from './Compounds/Compound';\nimport RaceData from './RaceData/raceData';\nimport style from './FormSetup.module.css';\n\nclass FormSetup extends Component {\n\n    state = {\n        raceStats: {\n            fuelLaps:0,\n            raceLaps:0\n        },\n        definedCompounds: []\n    }\n\n    fuelLapsHandler = (e) => \n    {\n        e.preventDefault();\n\n        let currentStats = this.state.raceStats;\n        currentStats.fuelLaps = parseInt(e.target.value);\n\n        this.setState({raceStats : currentStats});\n    }\n\n    raceLapsHandler = (e) => \n    {\n        e.preventDefault();\n        let currentStats = this.state.raceStats;\n        currentStats.raceLaps = parseInt(e.target.value);\n\n        this.setState({raceStats : currentStats});\n    }\n\n    addCompoundHandler = (compound) => \n    {\n        let currCompounds = this.state.definedCompounds;\n\n        let existingCompound = currCompounds.find((el) => {return el.id === compound.id});\n\n        if (existingCompound)\n        {\n            let elementIndex = currCompounds.indexOf(existingCompound);\n            currCompounds.splice(elementIndex,1,compound);\n            this.setState({definedCompounds:currCompounds});\n        }\n        else{\n            console.log(\"element not found: \" + compound);\n        }\n        \n    }\n\n    createCompoundHandler = () => \n    {\n        let currCompounds = this.state.definedCompounds;\n        currCompounds.push({\n            id: Date.now(),\n            tyreType: '',\n            maxLaps:0,\n            minLaps:0\n        });\n\n        this.setState({definedCompounds:currCompounds})\n    }\n\n    renderCompounds= () => \n    {\n        return this.state.definedCompounds.map((compound) => {\n            return <Compound key={compound.id} id={compound.id} setCompound={this.addCompoundHandler}/>\n        });\n    }\n\n    render (){\n        return (\n            <div>\n                <RaceData \n                    fuelLaps = {this.fuelLapsHandler}\n                    raceLaps = {this.raceLapsHandler}/>\n\n                <button onClick={this.createCompoundHandler}>Add Compound</button>\n                <div className={style.CompoundRow}>\n                    {this.renderCompounds()}\n                </div>\n                <button onClick={(event)=> this.props.calculateClick(event,this.state) }>Calculate</button>\n            </div>\n        );\n    }\n\n}\n\nexport default FormSetup;","import React, {Component} from 'react';\nimport Calculator from '../Calculator/Calculator';\nimport FormSetup from '../FormSetup/FormSetup';\nimport styles from './Layout.module.css';\n\nclass Layout extends Component{\n    state = {\n        raceStats:{},\n        definedCompounds:[]\n    }\n\n    calculateClickHandler = (ev,raceData) => \n    {\n        ev.preventDefault();\n        this.setState({raceStats: raceData.raceStats, definedCompounds:raceData.definedCompounds});\n    }\n\n    render (){\n        return(\n            <div className={styles.Layout}>\n                <h1>Strategy Builder</h1>\n                <FormSetup calculateClick = {this.calculateClickHandler}/>\n                <Calculator\n                    raceStats = {this.state.raceStats}\n                    definedCompounds = {this.state.definedCompounds}/>\n            </div>\n        );\n    };\n}\n\nexport default Layout;","import './App.css';\nimport Layout from './Components/Layout/Layout';\n\nfunction App() {\n  return (\n    <Layout/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}